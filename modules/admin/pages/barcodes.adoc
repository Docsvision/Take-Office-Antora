= Штрих-коды

_Штрих-код_ представляет собой особую отметку на бумажном документе, предназначенную для выделения каждого документа в отдельный файл при потоковом сканировании, а также для автоматического присоединения полученных файлов к зарегистрированным ранее карточкам документов.

В системе существует неудаляемый и нередактируемый набор параметров работы со штрих-кодами, использующийся при отсутствии пользовательских настроек.

Как при ручном, так и при потоковом сканировании используется один и тот же механизм взаимодействия с Twain. Для хранения полученных изображений используется формат `.tiff` со сжатием `.jpeg`.

.Чтобы настроить параметры сканирования, распечатывания и последующего распознавания системой штрих-кодов, выполните следующие действия:
. В области _Категории_ выберите ветку menu:Делопроизводство[Штрих-коды]. Будет отображена область _Штрих-коды_.
+
В центральной части окна элемента _Штрих-коды_ расположены секции _Настройки штрих-кода_, _Настройки сканирования штрих-кодов_, _Настройки печати штрих-кодов_ и _Настройки создания документов_, опции которых предназначены для создания соответствующих наборов настроек.
+
В полях секций _Настройки сканирования штрих-кодов_, _Настройки печати штрих-кодов_ и _Настройки создания документов_ отображаются сформированные наборы параметров сканирования штрих-кодов, их печати и создания документа по считанному штрих-коду. Кнопки image:buttons/plus-frame.png[Рамка с плюсом] *Добавить*, image:buttons/pencil-page.png[Лсит с карандашом] *Изменить* и image:buttons/x-red.png[Красный крестик] *Удалить*, расположенные справа от полей (или одноименные опции контекстного меню полей) позволяют добавить в список новый, изменить или удалить уже существующий набор параметров соответственно.
+
.Настройки штрих-кодов для приложения "{to}"
image::barcodes-settings.png[Настройки штрих-кодов для приложения "{to}"]
+
Набор настроек, который будет применен в конкретном случае, будет выбран из списка существующих наборов следующим образом:
+
* Нужный набор настроек сканирования штрих-кодов выбирается в поле _Координаты распознавания_ карточки _Сканирование штрих-кодов_ непосредственно перед сканированием. Набор, для которого установлен флаг `*По умолчанию*`, будет отображаться в этом поле при открытии карточки _Сканирование штрих-кодов_.
* При печати и ручном распознавании штрих-кода вычисляется подразделение сотрудника, осуществляющего данную операцию, и вид документа, для которого печатается штрих-код, после чего ищутся соответствующие подразделению и виду наборы параметров. +
Если найден только один подходящий набор параметров, соответствующий или подразделению, или виду документа, то он и будет использован. +
Если существуют наборы и для подразделения, и для вида, то будет использован набор типа, указанного в поле _Использовать по умолчанию_.
+
* В момент создания документа при сканировании штрих-кода выполняется поиск набора параметров, соответствующего подразделению сотрудника. +
Если он не найден, то проводится поиск такого набора для родительских подразделений. Поиск идет вверх по дереву подразделений до первого подразделения, фигурирующего в списке наборов штрих-кодов. +
Если найден набор параметров, который может использоваться для подразделения, то при работе будет использован именно он. Если набор не найден, будут взяты параметры из набора, в котором установлен флаг `*Использовать по умолчанию*`.
. Определите настройки штрих-кода:
.. В поле _Использовать по умолчанию_ -- набор настроек печати штрих-кодов, который будет использован, если определены наборы для подразделения исполнителя, печатающего штрих-код, и для вида документа, для которого он распечатывается.
.. _Формат штрих-кода_, формируемого системой {dv}: `Номер штрих-кода` (инкрементальный номер), `Дата + Номер` штрих-кода, `Номер` штрих-кода + `Дата`.
. xref:scan-print.adoc[Определите настройки сканирования штрих-кода].
. xref:barcode-print-settings.adoc[Определите настройки печати штрих-кода].
. xref:barcode-create-docs-settings.adoc[Определите настройки создания документов].
. xref:barcode-advanced-settings.adoc[При необходимости определите расширенные настройки штрих-кодов].

