= Подписи и шифрование

Чтобы настроить параметры шифрования и подписи файлов, выполните следующие действия:

. В области *Категории* выберите ветку *Делопроизводство* > *Подписи и шифрование*.
+
При этом в средней части карточки справочника будет отображена область *Подписи и шифрование*.

image::Signature_and_Encryption.png[Настройки подписи и шифрования]
. В поле *Провайдер* выберите названия провайдера для шифрования и подписи файлов.
+
Система {dv} интегрируется с любыми системы криптографической защиты информации СКЗИ (крипто-провайдерами), поддерживающими интерфейс Microsoft Crypto API. Выяснить, поддерживает ли конкретная СКЗИ интерфейс Crypto API, можно у ее производителя. Примерами систем, поддерживающих Crypto API, являются:

* КриптоПро CSP (описание продукта можно найти на сайте производителя по адресу http://www.cryptopro.ru/cryptopro/products/csp/default.htm);
* Signal-COM CSP (описание продукта можно найти на сайте производителя по адресу http://www.signal-com.ru/ru/prod/crypt/signal_com/).     

Поддержка Crypto API — необходимое, но не достаточное условие для возможности интеграции крипто-провайдера с {dv}, так как в реализации каждого провайдера могут быть свои нюансы (особенности реализации методов), препятствующие их совместной корректной работе. Таким образом, каждый конкретный провайдер должен предварительно проверяться на совместимость с {dv}. Эту проверку можно выполнить самостоятельно или обратиться к любому партнеру {dv}. {dv} _гарантирует_ корректную работу со стандартными крипто-провайдерами Microsoft, входящими в состав операционной системы Windows, а также поддержку аутентификации и ЭЦП смарт-карт eToken (фирмы-производителя _Алладин Р.Д._)

Чтобы выбрать провайдера:
[loweralpha]
.. Нажмите на кнопку image:Buttons/Three_Dots.png[image].
+
Будет открыто окно *Выбор провайдера шифрования*.

В этом окне отображается дерево, узловыми элементами которого являются *типы*, а ветками — *названия* провайдеров.

image::SelectEncryptionProvider.png[Выбор провайдера шифрования]
.. Выберите провайдера, затем нажмите на кнопку *ОК*.
. В поле *Алгоритм шифрования* выберите из раскрывающегося списка необходимый алгоритм для проведения операции шифрования файлов.
+
Предлагаемый список алгоритмов зависит от выбранного ранее провайдера.    
. В поле *Длина ключа* выбирается необходимая длина ключа для шифрования.
+
Длина ключа должна выбираться в зависимости от используемой в организации операционной системы. Возможен выбор одного из следующих вариантов:
* *По умолчанию* – длина ключа определяется по умолчанию.
* *Минимальная* – длина ключа составляет 40 символов.
* *Максимальная* – длина ключа составляет 56 символов.
* *Пользовательская* – длина ключа задается в зависимости от выбранного алгоритма шифрования, число символов должно быть кратным 8.
. В поле *Алгоритм подписи* выберите из раскрывающегося списка необходимый алгоритм подписания файлов.
+
Список доступных алгоритмов подписи зависит от выбранного провайдера.
. При необходимости, установите флаг *Проверять действительность сертификата, используя внешние списки отзыва сертификатов* .
+
Если этот флажок установлен, а в использованном сертификате указаны пути к спискам отзыва (CRL), публикуемым УЦ, то в процессе проверки подписи будет также проверена действительность сертификата по этим спискам. Если проверка даст отрицательный результат, то подпись будет верна только математически (то есть будет удостоверено, что содержание документа соответствует подписи (не изменялось), но при этом сертификат подписи недействителен (отозван, или истек срок его действия)).
. Чтобы выявить, успешно ли работают заданные параметры подписи и шифрования, нажмите на кнопку *Проверить*.
. При необходимости, просмотрите расширенные настройки при нажатии ссылки *Расширенные настройки* в правой части окна.
+
Параметры шифрования и подписания не предусматривают каких-либо дополнительных настроек, поэтому опции окна *Подписи и шифрование* повторяют настройки, описанные выше.
+
image::Signature_and_Encryption_extra.png[Окно расширенных настроек элемента *Подписи и шифрование*]
. Для сохранения внесенных в окне *Подписи и шифрование* изменений и закрытия окна нажмите кнопку *ОК*.
