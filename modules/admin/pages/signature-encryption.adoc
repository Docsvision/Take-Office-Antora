= Подписи и шифрование

Чтобы настроить параметры шифрования и подписи файлов, выполните следующие действия:

. В области _Категории_ выберите ветку menu:Делопроизводство[Подписи и шифрование].
+
В средней части карточки справочника будет отображена область _Подписи и шифрование_.
+
.Настройки подписи и шифрования
image::signature-encryption.png[Настройки подписи и шифрования]
+
. В поле _Провайдер_ выберите названия провайдера для шифрования и подписи файлов.
+
Система {dv} интегрируется с любыми СКЗИ (системами криптографической защиты информации, крипто-провайдерами), поддерживающими интерфейс Microsoft Crypto API. Выяснить, поддерживает ли конкретная СКЗИ интерфейс Crypto API, можно у её производителя.
+
.Примерами систем, поддерживающих Crypto API, являются:
* КриптоПро CSP. +
Описание продукта можно найти http://www.cryptopro.ru/cryptopro/products/csp/default.htm[на сайте производителя].
+
* Signal-COM CSP. +
Описание продукта можно найти на http://www.signal-com.ru/ru/prod/crypt/signal_com/[сайте производителя].
+
Поддержка Crypto API -- необходимое, но не достаточное условие для возможности интеграции крипто-провайдера с {dv}, так как в реализации каждого провайдера могут быть свои особенности реализации методов, препятствующие их совместной корректной работе. Таким образом, каждый конкретный провайдер должен предварительно проверяться на совместимость с {dv}. Эту проверку можно выполнить самостоятельно или обратиться к любому партнеру {dv}. {dv} _гарантирует_ корректную работу со стандартными крипто-провайдерами Microsoft, входящими в состав операционной системы Windows, а также поддержку аутентификации и ЭЦП смарт-карт eToken (фирмы-производителя "Аладдин Р.Д.")
+
.Чтобы выбрать провайдера:
.. Нажмите на кнопку image:buttons/three-dots.png[Три точки].
+
В окне _Выбор провайдера шифрования_ отображается дерево, узловыми элементами которого являются _типы_, а ветками -- _названия_ провайдеров.
+
.Выбор провайдера шифрования
image::select-encryption-provider.png[Выбор провайдера шифрования]
+
.. Выберите провайдера, затем нажмите на кнопку *ОК*.
. В поле _Алгоритм шифрования_ выберите из раскрывающегося списка необходимый алгоритм для проведения операции шифрования файлов.
+
Предлагаемый список алгоритмов зависит от выбранного ранее провайдера.
+
. В поле _Длина ключа_ выбирается необходимая длина ключа для шифрования.
+
Длина ключа должна выбираться в зависимости от используемой в организации операционной системы.
+
.Доступен выбор одного из следующих вариантов:
* *_По умолчанию_* -- длина ключа определяется по умолчанию.
* *_Минимальная_* -- длина ключа составляет `40` символов.
* *_Максимальная_* -- длина ключа составляет `56` символов.
* *_Пользовательская_* -- длина ключа задается в зависимости от выбранного алгоритма шифрования, число символов должно быть кратным `8`.
+
. В поле _Алгоритм подписи_ выберите из раскрывающегося списка необходимый алгоритм подписания файлов.
+
Список доступных алгоритмов подписи зависит от выбранного провайдера.
+
. При необходимости установите флаг `*Проверять действительность сертификата, используя внешние списки отзыва сертификатов*`.
+
Если этот флаг установлен, а в использованном сертификате указаны пути к спискам отзыва (CRL), публикуемым УЦ, то в процессе проверки подписи будет также проверена действительность сертификата по этим спискам. Если проверка даст отрицательный результат, то подпись будет верна только математически.footnote:[То есть будет удостоверено, что содержание документа не изменялось и соответствует подписи, но при этом сертификат подписи недействителен -- отозван, или истек срок его действия.]
. Чтобы выявить, успешно ли работают заданные параметры подписи и шифрования, нажмите на кнопку *Проверить*.
. При необходимости просмотрите расширенные настройки при нажатии ссылки _Расширенные настройки_ в правой части окна.
+
Параметры шифрования и подписания не предусматривают каких-либо дополнительных настроек, поэтому опции окна _Подписи и шифрование_ повторяют настройки, описанные выше.
+
.Окно расширенных настроек элемента "Подписи и шифрование"
image::signature-encryption-advanced.png[Окно расширенных настроек элемента "Подписи и шифрование"]
+
. Для сохранения внесенных в окне _Подписи и шифрование_ изменений и закрытия окна нажмите кнопку *ОК*.
