= Настройка поискового запроса

Настройка запроса _Личного помощника_ выполняется, в зависимости от типа запроса, в окне _Настройка личного запроса_ или _Настройка общего запроса_, интерфейс которых не различается.

Чтобы настроить запрос _Личного помощника_, выполните следующие действия:

. Откройте окно _Настройка <...> запроса_.
+
.Окно настройки личного запроса
image::query-settings.png[Окно настройки личного запроса]
+
. Введите в поле _Запрос_ название запроса.
. Для корректирования условий запроса выполните следующие действия:
.. Нажмите кнопку *Изменить запрос*. При этом будет открыто диалоговое окно _Запрос поиска_, полностью аналогичное окну, предназначенному для настройки условий расширенного поиска.
.. При необходимости задайте новые условия поиска аналогично описанию, приведенному в разделе _Расширенный поиск_.
.. При необходимости воспользуйтесь кнопками *Загрузить*, *Сохранить* и *Сохранить как* для загрузки имеющегося в системе поискового запроса и сохранения созданного запроса _Личного помощника_.
.. Нажмите в окне _Запрос поиска_ кнопку *ОК* для сохранения условий запроса _Личного помощника_.
+
[NOTE]
====
Не следует путать поисковые запросы и запросы _Личного помощника_: они хранятся в разных, недоступных рядовому пользователю карточках системы {dv}.
====
+
. Выберите из раскрывающегося списка поля _Режим открытия_ режим открытия для карточек файла, задачи, задания бизнес-процесса и согласования.все остальные карточки будут открываться в режиме редактирования.
. Снимите/установите флаг `*Активный запрос*`. При снятом флаге созданный и настроенный запрос не будет доступен для выбора при дальнейшем использовании _Личного помощника_. По умолчанию флаг установлен.
. В секции _При нахождении карточек_ определите способ (способы) оповещения пользователя при нахождении карточек, соответствующих запросу.
+
.Для этого установите следующие флаги (в любой комбинации):
* `*Сигнал при нахождении карточек*`: пользователь будет оповещен о нахождении карточек звуковым сигналом. Для выбора сигнала нажмите кнопку с многоточием и укажите звуковой файл (`.wav`) из имеющихся в файловой системе.
* `*Менять значок*`: при установке данного флага _Личный помощник_ сигнализирует о найденных карточках с помощью изменившегося мерцающего значка image:buttons/assistant-signal.png[Сигнал помощника]. При наведении курсора мышки на значок во всплывающей подсказке будут показаны названия запросов и количество найденных карточек. +
Вывести список активных поисковых запросов можно, щелкнув по мигающему значку левой кнопкой мыши, затем, наводя курсор на один из запросов, получить список найденных по нему карточек, и далее -- открыть карточку, щелкнув по её названию в спискеfootnote:[Карточка открывается в режиме редактирования без открытия _РМА {dv}_, а при закрытии _Личного помощника_ -- также закрывается].
* `*Показывать сообщение о найденной карточке*`: данный флаг позволяет сигнализировать о каждой из найденных карточек с помощью отдельного постепенно гаснущего сообщения в правом нижнем углу экрана. +
При нажатии на сообщение оно фиксируется и остается на экране, двойной щелчок по окну сообщения открывает соответствующую карточку.
+
.Сообщение о найденной карточке
image::card-found-message.png[Сообщение о найденной карточке]
+
* `*Показывать окно со списком карточек*`: список всех карточек, найденных в соответствии с условиями запроса, будет выведен в специальном окне. Карточки в данном списке отсортированы по дате изменений -- вверху списка находится карточка, в которой изменения были совершены в последнюю очередь. Дважды щелкните левой кнопкой мыши по названию найденной карточки, чтобы открыть ее.
+
.Окно со списком карточек
image::card-found-list.png[Окно со списком карточек]
+
. Если поиск карточек по данному запросу нужно выполнять реже, чем указано в общих настройках, введите в текстовом поле _Период поиска карточек (мин)_ значение, кратное xref:general.adoc[общей настройке интервала поиска]. При этом поисковый запрос не будет выполнен при запуске Личного помощника, а только по истечении заданного в настройке интервала. +
Если необходимо выполнять поиск в два раза реже, следует указать значение в два раза больше общей настройки. К примеру, если указать произвольное число (например `7`), поиск будет выполняться с ближайшим кратным интервалом (`5` минут).
+
Если значение не указано, будет установлена стандартная (соответствующая общим настройкам) периодичность поиска.
+
. Нажмите в окне _Настройка запроса_ кнопку *ОК* для сохранения выполненных настроек.
